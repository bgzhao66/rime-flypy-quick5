# RIME flypy-quick5-simp -- 「双拼仓颉」输入法方案

## 说明
<code>flypy-quick5-simp</code> 是一个基于双拼和仓颉的音形输入法方案，设计目标是让用户能够简单、快速、准确地统一输入各种文体的海量汉语字词，包括但不限于文言文、现代文、以及古诗词等等。
- **双拼**：使用双拼方案作为字词的音码部分，采用**小鹤双拼**方案，每字两码。
- **仓颉**：利用仓颉**五代**速成码的**逆序首尾**，作为区分码，每字词两码。

### 特点
- **超大词库**：词库规模，达到**数百万级**，涵盖常用字词及大量专业词汇；这远远超过了传统形码、以及音形码输入法，如五笔等，可支持的词库规模。
- **编码唯一**：每个编码，对应唯一的词汇，重码率极低，避免选词困扰。仅「主体音码+形码区分码」，已使整体重码率降低到了**千分之量级**。在此基础上，又增加了字母顺序码，确保唯一性，避免数字键选词。
- **高效输入**：采用**全码前缀**的方式，对高频字词逐级支持简码，提高输入效率；其中，全音码的简码，已涵盖大部分高频词汇，仅偶尔需要输入区分码。根据统计分析，词频加权平均，每词实际平均码长为3.08键，其中每字平均1.83键；而依据香农信息编码理论，该分布下每词理论最优平均码长为3.06键，实际与理论值仅相差0.02键。因此，该输入法实际编码效率，已十分接近**香农极限**。

因此，该输入法方案，同时达成了**超大词库**、**编码唯一**、**高效输入**的要求。这三个指标，该输入法，均优于其他传统输入法方案。

## 编码规则
该输入法，编码规则简单、统一，以双拼为基础，仅在必要时以形码作为区分码；百分之九十以上的常用词汇，仅使用双拼简码就可以输入。当需要额外输入区分码时，基于最少注意力转移原则，首先选取尾字的仓颉尾码，关注在当前注意力的焦点；如果还不能区分时，再考虑首字形码特征。所以，形码区分码的取码顺序为**逆序**。

### 全码
全码包含两个部分，主码部分和辅码部分。主码部分，由「双拼」构成，参与取码字每字两码， 为全码前缀。辅码部分，由尾字以及首字仓颉码构成，尾字取仓颉尾码，首字取仓颉首码，共不超过两码，为全码后缀。

* **单字、双字词、三字词**：每个字的双拼「每字两码」+ 「尾字仓颉尾码+首字仓颉首码」。全码仍不足以保证编码唯一性时，按照词频从高到低，从第二个开始增加一位字母顺序码。
* **四字词**：每个字的双拼「每字两码」。
* **五至七字词**：前四字的双拼「每字两码」+「尾字仓颉尾码」。
* **八及以上字词**：前四字的双拼「每字两码」+ 『随后每五字分一组，其中每组后两字的双拼「每字两码」』 + 「尾字仓颉尾码」。

### 简码
按照**全码前缀**的方式，按照词频从高到低，在没有冲突的前提下，

* 依次对单字取1键、2键、3键简码；
* 依次对双字词、三字词、四字词，取3键、4键、5键、6键、7键简码。

## 学习资料
双拼和**仓颉速成**均有成熟的学习资料。仓颉速成码，实际为仓颉码取首尾。

- 双拼：[双拼练习（小鹤双拼）](https://api.ihint.me/shuang/);
- 仓颉：[五色仓颉（三代）](https://www.xn--0vqu8au0tro7d.com/)，[仓颉五代手册](https://zh.wikibooks.org/w/index.php?title=%E5%80%89%E9%A0%A1%E8%BC%B8%E5%85%A5%E6%B3%95&variant=zh)，[仓颉之友](https://www.chinesecj.com/)，[仓颉字根表（五代兼三代）](https://www.chinesecj.com/forum/data/attachment/forum/202111/24/154815fwe23wu3npzz172k.png);
- 字典：[汉语字典（含五代仓颉码）](https://www.hanyuguoxue.com/zidian/)。

## 安装
此输入法方案需要 [RIME | 中州韵输入法引擎](https://rime.im/)

default.custom.yaml 文件为用户重要配置文件，其中schema_list字段后是所有可选配方，可自行增删（行首用“#”号注释表示不引入）。

### 输入法码表
```
flypy_quick5_simp.schema.yaml
flypy_quick5_simp*.dict.yaml
```

### 通用方式
[安装rime](https://rime.im/)后，把码表复制到 Rime用户设定目录，然后重新部署。
 部署位置：
##### Windows 10+
```
    %APPDATA%\Rime
```
##### Mac OSX
```
    ~/Library/Rime
```
##### Linux (部署后最好重启一次)
###### ibus-rime:
```
    ~/.config/ibus/rime
```
###### fcitx-rime:
```
    ~/.config/fcitx/rime
```
###### fcitx5-rime:
```
    /usr/share/rime-data
```

### 字体
为显示CJK扩展区数万汉字，可下载并安装[HanaMin|花园明朝](https://glyphwiki.org/hanazono/hanazono-20170904.zip)字体库。
