# RIME flypy-quick5 -- 「雙拼倉頡」輸入法方案

## 說明
<code>flypy-quick5</code> 是一個基於雙拼和倉頡的音形輸入法方案，設計目標是讓用戶能夠快速、準確地輸入漢字及其詞語。
- **雙拼**：使用雙拼方案作為字詞的音碼部分，採用**小鶴雙拼**方案，每字兩碼。
- **倉頡**：利用倉頡**五代**速成碼的**逆序首尾**，作為區分碼，每字詞兩碼。

### 特點
- **超大詞庫**：詞庫規模，達到**百萬級**，涵蓋常用字詞及大量專業詞彙；這遠遠超過了傳統形碼、以及音形碼輸入法，如五筆等，可支持的詞庫規模。
- **編碼唯一**：每個編碼，對應唯一的詞彙，重碼率極低，避免選詞困擾。僅「主體音碼+形碼區分碼」，已使整體重碼率降低到了**千分之量級**。在此基礎上，又增加了字母順序碼，確保唯一性，避免數字鍵選詞。
- **高效輸入**：採用**全碼前綴**的方式，對高頻字詞逐級支持簡碼，提高輸入效率；其中，全音碼的簡碼，已涵蓋大部分高頻詞彙，僅偶爾需要輸入區分碼。根據統計分析，詞頻加權平均，每詞實際平均碼長為3.10鍵，其中每字平均1.87鍵；而依據香農信息編碼理論，該分佈下每詞理論最優平均碼長為3.06鍵，實際與理論值僅相差0.04鍵。因此，該輸入法實際編碼效率，已十分接近**香農極限**。

因此，該輸入法方案，同時達成了**超大詞庫**、**編碼唯一**、**高效輸入**的要求。這三個指標，該輸入法，均優於其他傳統輸入法方案。

## 編碼規則
該輸入法，編碼規則簡單、統一，以雙拼為基礎，僅在必要時以形碼作為區分碼；百分之九十以上的常用詞彙，僅使用雙拼簡碼就可以輸入。當需要額外輸入區分碼時，基於最少注意力轉移原則，首先選取尾字的倉頡尾碼，關注在當前注意力的焦點；如果還不能區分時，再考慮首字形碼特徵。所以，形碼區分碼的取碼順序為**逆序**。

### 全碼
全碼包含兩個部分，主碼部分和輔碼部分。主碼部分，由「雙拼」構成，參與取碼字每字兩碼， 為全碼前綴。輔碼部分，由尾字以及首字倉頡碼構成，尾字取倉頡尾碼，首字取倉頡首碼，共不超過兩碼，為全碼後綴。

* **單字、雙字詞、三字詞**：每個字的雙拼「每字兩碼」+ 「尾字倉頡尾碼+首字倉頡首碼」。全碼仍不足以保證編碼唯一性時，按照詞頻從高到低，從第二個開始增加一位字母順序碼。
* **四字詞**：每個字的雙拼「每字兩碼」。
* **五至七字詞**：前四字的雙拼「每字兩碼」+「尾字倉頡尾碼」。
* **八及以上字詞**：前四字的雙拼「每字兩碼」+ 『隨後每五字分一組，其中每組後兩字的雙拼「每字兩碼」』 + 「尾字倉頡尾碼」。

### 簡碼
按照**全碼前綴**的方式，按照詞頻從高到低，在沒有衝突的前提下，

* 依次對單字取1鍵、2鍵簡碼；
* 依次對雙字詞、三字詞、四字詞，取3鍵、4鍵、5鍵、6鍵、7鍵簡碼。

## 學習資料
雙拼和**倉頡速成**均有成熟的學習資料。倉頡速成碼，實際為倉頡碼取首尾。

- 雙拼：(雙拼練習)[https://api.ihint.me/shuang/]（小鶴雙拼），(小鶴雙拼方案)[https://bkimg.cdn.bcebos.com/pic/dc54564e9258d109b3de592a1612dbbf6c81800ae75a?x-bce-process=image/format,f_auto/watermark,image_d2F0ZXIvYmFpa2UyNzI,g_7,xp_5,yp_5,P_20/resize,m_lfit,limit_1,h_1080]
- 倉頡：(五色倉頡)[https://www.xn--0vqu8au0tro7d.com/]（三代），(倉頡五代手冊)[https://zh.wikibooks.org/w/index.php?title=%E5%80%89%E9%A0%A1%E8%BC%B8%E5%85%A5%E6%B3%95&variant=zh]，(倉頡之友)[https://www.chinesecj.com/]，(倉頡字根表)[https://www.chinesecj.com/forum/data/attachment/forum/202111/24/154815fwe23wu3npzz172k.png]（五代兼三代）
- 字典：(漢語字典)[https://www.hanyuguoxue.com/zidian/]（其中倉頡碼為五代）

## 安裝
此輸入法方案需要 [RIME | 中州韻輸入法引擎](https://rime.im/)

default.custom.yaml 文件為用戶重要配置文件，其中schema_list字段後是所有可選配方，可自行增刪（行首用“#”號註釋表示不引入）。

### 輸入法碼表
```
flypy_quick5.schema.yaml
flypy_quick5.dict.yaml
flypy_quick5_ext*.dict.yaml
```

### 通用方式
[安裝rime](https://rime.im/)後，把碼表複製到 Rime用戶設定目錄，然後重新部署。
 部署位置：
##### Windows 10+
```
    %APPDATA%\Rime
```
##### Mac OSX
```
    ~/Library/Rime
```
##### Linux (部署後最好重啟一次)
###### ibus-rime:
```
    ~/.config/ibus/rime
```
###### fcitx-rime:
```
    ~/.config/fcitx/rime
```
###### fcitx5-rime:
```
    /usr/share/rime-data
```

### 字體
為顯示CJK擴展區數萬漢字，可下載並安裝[HanaMin|花園明朝](https://glyphwiki.org/hanazono/hanazono-20170904.zip)字體庫。
